<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>NameAllocator</title>
<link href="../../../../../../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../../../";</script><script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script><link href="../../../styles/style.css" rel="Stylesheet"><link href="../../../styles/logo-styles.css" rel="Stylesheet"><link href="../../../styles/jetbrains-mono.css" rel="Stylesheet"><link href="../../../styles/main.css" rel="Stylesheet"><script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script><script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script><script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script><script type="text/javascript" src="../../../scripts/main.js" async="async"></script>  </head>
  <body>
    <div id="container">
      <div id="leftColumn"><a href="../../../index.html">
          <div id="logo"></div>
        </a>
        <div id="paneSearch"></div>
        <div id="sideMenu"></div>
      </div>
      <div id="main">
        <div id="leftToggler"><span class="icon-toggler"></span></div>
<script type="text/javascript" src="../../../scripts/main.js"></script>        <div class="main-content" id="content" pageIds="swiftpoet::io.outfoxx.swiftpoet/NameAllocator///PointingToDeclaration//-414778960">
          <div class="navigation-wrapper" id="navigation-wrapper">
            <div class="breadcrumbs"><a href="../../../index.html">swiftpoet</a>/<a href="../index.html">io.outfoxx.swiftpoet</a>/<a href="index.html">NameAllocator</a></div>
            <div class="pull-right d-flex">
              <div id="searchBar"></div>
            </div>
          </div>
          <div class="cover ">
            <h1 class="cover"><span>Name</span><wbr></wbr><span>Allocator</span></h1>
            <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace">class <a href="index.html">NameAllocator</a><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Assigns Swift identifier names to avoid collisions, keywords, and invalid characters. To use, first create an instance and allocate all of the names that you need. Typically this is a mix of user-supplied names and constants:</p><div class="sample-container"><code class="" theme="idea"><pre>val nameAllocator = NameAllocator()<br>for (property in properties) {<br>  nameAllocator.newName(property.name, property)<br>}<br>nameAllocator.newName(&quot;sb&quot;, &quot;string builder&quot;)</pre></code></div><p class="paragraph">Pass a unique tag object to each allocation. The tag scopes the name, and can be used to look up the allocated name later. Typically the tag is the object that is being named. In the above example we use <code>property</code> for the user-supplied property names, and <code>&quot;string builder&quot;</code> for our constant string builder.</p><p class="paragraph">Once we've allocated names we can use them when generating code:</p><div class="sample-container"><code class="" theme="idea"><pre>val builder = FunctionSpec.getterBuilder()<br>  .returns(DeclaredTypeName.STRING)<br><br>builder.addStatement(#&quot;var %N = &quot;&quot;&quot;#, nameAllocator.get(&quot;string builder&quot;))<br><br>for (property in properties) {<br>  builder.addStatement(#&quot;%N += &quot;\(%N)&quot;#, nameAllocator.get(&quot;string builder&quot;), nameAllocator.get(property))<br>}<br>builder.addStatement(&quot;return %N&quot;, nameAllocator.get(&quot;string builder&quot;))<br><br>return PropertySpec.builder(&quot;description&quot;, DeclaredTypeName.STRING)<br>  .getter(builder.build())<br>  .build()</pre></code></div><p class="paragraph">The above code generates unique names if presented with conflicts. Given user-supplied properties with names <code>ab</code> and <code>sb</code> this generates the following:</p><div class="sample-container"><code class="" theme="idea"><pre>var description: String {<br>  var sb_ = &quot;&quot;<br>  sb_ += &quot;\(ab)&quot;<br>  sb_ += &quot;\(sb)&quot;<br>  return sb_<br>}</pre></code></div><p class="paragraph">The underscore is appended to <code>sb</code> to avoid conflicting with the user-supplied <code>sb</code> property. Underscores are also prefixed for names that start with a digit, and used to replace name-unsafe characters like space or dash.</p><p class="paragraph">When dealing with multiple independent inner scopes, use a <a href="copy.html">copy</a> of the NameAllocator used for the outer scope to further refine name allocation for a specific inner scope.</p></div></div>
          </div>
          <div class="tabbedcontent">
            <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="Constructors">Constructors</button><button class="section-tab" data-togglable="Functions">Functions</button></div>
            <div class="tabs-section-body">
              <h2 class="tabbedcontent">Constructors</h2>
              <div class="table" data-togglable="Constructors"><a data-name="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2FNameAllocator%2F%23%2FPointingToDeclaration%2F%5D%2FConstructors%2F-414778960" anchor-label="NameAllocator" id="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2FNameAllocator%2F%23%2FPointingToDeclaration%2F%5D%2FConstructors%2F-414778960" data-filterable-set=":dokkaHtml/main"></a>
                <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
                  <div class="main-subrow keyValue TabbedContent">
                    <div class=""><span class="inline-flex"><a href="-name-allocator.html">NameAllocator</a><span class="anchor-wrapper"><span class="anchor-icon" pointing-to="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2FNameAllocator%2F%23%2FPointingToDeclaration%2F%5D%2FConstructors%2F-414778960"></span>
                          <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                        </span></span></div>
                    <div>
                      <div class="title">
                        <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace">fun <a href="-name-allocator.html">NameAllocator</a>()<span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <h2 class="">Functions</h2>
              <div class="table" data-togglable="Functions"><a data-name="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fcopy%2F%23%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" anchor-label="copy" id="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fcopy%2F%23%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" data-filterable-set=":dokkaHtml/main"></a>
                <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
                  <div class="main-subrow keyValue ">
                    <div class=""><span class="inline-flex"><a href="copy.html">copy</a><span class="anchor-wrapper"><span class="anchor-icon" pointing-to="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fcopy%2F%23%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960"></span>
                          <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                        </span></span></div>
                    <div>
                      <div class="title"><div class="divergent-group" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace">fun <a href="copy.html">copy</a>(): <a href="index.html">NameAllocator</a><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<a data-name="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fcopy%2F%23%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" anchor-label="copy" id="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fcopy%2F%23%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" data-filterable-set=":dokkaHtml/main"></a><div class="brief "><a data-name="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fcopy%2F%23%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" anchor-label="copy" id="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fcopy%2F%23%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" data-filterable-set=":dokkaHtml/main"></a>Create a deep copy of this NameAllocator.</div></div>
</div>
                    </div>
                  </div>
                </div>
<a data-name="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fget%2F%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" anchor-label="get" id="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fget%2F%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" data-filterable-set=":dokkaHtml/main"></a>
                <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
                  <div class="main-subrow keyValue ">
                    <div class=""><span class="inline-flex"><a href="get.html">get</a><span class="anchor-wrapper"><span class="anchor-icon" pointing-to="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fget%2F%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960"></span>
                          <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                        </span></span></div>
                    <div>
                      <div class="title"><div class="divergent-group" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace">operator fun <a href="get.html">get</a>(tag: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html">Any</a>): <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<a data-name="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fget%2F%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" anchor-label="get" id="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fget%2F%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" data-filterable-set=":dokkaHtml/main"></a><div class="brief "><a data-name="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fget%2F%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" anchor-label="get" id="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2Fget%2F%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" data-filterable-set=":dokkaHtml/main"></a>Retrieve a name created with <a href="new-name.html">NameAllocator.newName</a>.</div></div>
</div>
                    </div>
                  </div>
                </div>
<a data-name="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2FnewName%2F%23kotlin.String%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" anchor-label="newName" id="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2FnewName%2F%23kotlin.String%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" data-filterable-set=":dokkaHtml/main"></a>
                <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
                  <div class="main-subrow keyValue ">
                    <div class=""><span class="inline-flex"><a href="new-name.html">newName</a><span class="anchor-wrapper"><span class="anchor-icon" pointing-to="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2FnewName%2F%23kotlin.String%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960"></span>
                          <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                        </span></span></div>
                    <div>
                      <div class="title"><div class="divergent-group" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace"><div class="block"><div class="block">@<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-overloads/index.html">JvmOverloads</a>()</div></div>fun <a href="new-name.html">newName</a>(suggestion: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a>, tag: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html">Any</a> = UUID.randomUUID().toString()): <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<a data-name="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2FnewName%2F%23kotlin.String%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" anchor-label="newName" id="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2FnewName%2F%23kotlin.String%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" data-filterable-set=":dokkaHtml/main"></a><div class="brief "><a data-name="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2FnewName%2F%23kotlin.String%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" anchor-label="newName" id="%5Bio.outfoxx.swiftpoet%2FNameAllocator%2FnewName%2F%23kotlin.String%23kotlin.Any%2FPointingToDeclaration%2F%5D%2FFunctions%2F-414778960" data-filterable-set=":dokkaHtml/main"></a>Return a new name using <code>suggestion</code> that will not be a Swift identifier or clash with other names.</div></div>
</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="footer"><span class="go-to-top-icon"><a href="#content"></a></span><span>© 2023 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span></div>
      </div>
    </div>
  </body>
</html>

